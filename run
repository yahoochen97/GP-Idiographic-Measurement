#!/bin/bash
mkdir -p results
mkdir -p results/synthetic
mkdir -p log
mkdir -p data/synthetic

RANK=5
n=10
m=20
t=15
MAXSEED=25
declare -a TYPES=("pop" "ind" "both")
declare -a TYPES=("graded_uni" "graded_multi" "gpcm_uni" "gpcm_multi" "sequential_uni" "sequential_multi")
declare -a TYPES=("pop")

for SEED in $(seq 1 1 $MAXSEED); do
    for TYPE in ${TYPES[@]}; do
        bsub -G SEAS-Lab-Garnett -o "log/n${n}m${m}t${t}seed${SEED}r${RANK}${TYPE}.log" -J "n${n}m${m}t${t}seed${SEED}r${RANK}${TYPE}" "./onerun ${n} ${m} ${t} ${SEED} ${RANK} ${TYPE}"
    done
done